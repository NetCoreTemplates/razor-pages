@page
@model ErrorModel
@{
    ViewData["Title"] = "Error";
}

@if (Response.StatusCode == 404)
{
    var search = (HttpRequest.PathInfo ?? "").LastRightPart('/');
    <div id="content" class="mt-5 mx-auto max-w-lg">

        <h3>
            We're sorry <b>@HttpRequest.PathInfo</b> is no longer here.
        </h3> 

        @if (!string.IsNullOrEmpty(search))
        {
            <p> 
                Maybe Google has it?
            </p>

            <form action="https://www.google.com/search" method="GET">
                <div class="d-flex align-items-center">
                    <input class="form-control" type="search" name="q" value="@search"/>
                    <button type="submit" class="ms-2 btn btn-primary">Search</button>
                </div>
            </form>
        }
    </div>
}
else
{
    <h1 class="text-danger">Error @Response.StatusCode.</h1>
    <h2 class="text-danger">An error occurred while processing your request.</h2>
    
    if (Model.ShowRequestId)
    {
        <p>
            <strong>Request ID:</strong> <code>@Model.RequestId</code>
        </p>

        <h3>Development Mode</h3>
        <p>
            Swapping to the <strong>Development</strong> environment displays detailed information about the error that occurred.
        </p>
        <p>
            <strong>The Development environment shouldn't be enabled for deployed applications.</strong>
            It can result in displaying sensitive information from exceptions to end users.
            For local debugging, enable the <strong>Development</strong> environment by setting the <strong>ASPNETCORE_ENVIRONMENT</strong> environment variable to <strong>Development</strong>
            and restarting the app.
        </p>                                                                    
    }
}
